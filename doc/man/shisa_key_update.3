.\" DO NOT MODIFY THIS FILE!  It was generated by gdoc.
.TH "shisa_key_update" 3 "0.0.39" "shishi" "shishi"
.SH NAME
shisa_key_update \- API function
.SH SYNOPSIS
.B #include <shisa.h>
.sp
.BI "int shisa_key_update(Shisa * " dbh ", const char * " realm ", const char * " principal ", const Shisa_key * " oldkey ", const Shisa_key * " newkey ");"
.SH ARGUMENTS
.IP "Shisa * dbh" 12
Shisa library handle created by \fBshisa()\fP.
.IP "const char * realm" 12
Name of realm the principal belongs in.
.IP "const char * principal" 12
Name of principal to remove key for.
.IP "const Shisa_key * oldkey" 12
Pointer to Shisa key structure with hints on matching the key
to modify.
.IP "const Shisa_key * newkey" 12
Pointer to Shisa key structure with new values for the
key, note that all fields are used (and not just the ones specified
by \fIoldkey\fP).
.SH "DESCRIPTION"
Modify data about a key in the database, for the given
PRINCIPAL\fIREALM\fP.  First the \fIoldkey\fP is used to locate the key to
update (similar to \fBshisa_keys_find()\fP), then that key is modified to
contain whatever information is stored in \fInewkey\fP.  Not all
elements of \fIoldkey\fP need to be filled out, only enough as to
identify the key uniquely.  For example, if you want to modify the
information stored for the only key with an etype of 3
(DES\-CBC\-MD5), set the \fIkey\fP\->etype field to 3, and set all other
fields to 0.
.SH "RETURN VALUE"
Returns \fBSHISA_OK\fP on success, \fBSHISA_NO_KEY\fP if no key
could be identified, and \fBSHISA_MULTIPLE_KEY_MATCH\fP if more than one
key matched the given criteria, or an error code.
.SH "REPORTING BUGS"
Report bugs to <bug-shishi@gnu.org>.
.SH COPYRIGHT
Copyright \(co 2002-2008 Simon Josefsson.
.br
Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.
.SH "SEE ALSO"
The full documentation for
.B shishi
is maintained as a Texinfo manual.  If the
.B info
and
.B shishi
programs are properly installed at your site, the command
.IP
.B info shishi
.PP
should give you access to the complete manual.
